<div class="tnt-restaurants">
    @let restaurants = (restaurants$ | async) ?? [];

    <!-- Loading: show skeleton grid -->
    @if (isLoading()) {
        <div class="tnt-grid tnt-grid--col-3">
            @for (i of [0,1,2,3,4,5,6,7,8]; track i) {
                <div class="tnt-grid__col">
                    <tnt-skeleton-card></tnt-skeleton-card>
                </div>
            }
        </div>
    } @else {
        <!-- Not loading: show restaurants grid and pagination -->
        @if (restaurants.length > 0) {
            <div class="tnt-grid tnt-grid--col-3">
                @for (restaurant of restaurants; track restaurant.id) {
                    <div class="tnt-grid__col">
                        <tnt-card
                            [imageUrl]="restaurant.imageUrl"
                            [title]="restaurant.title"
                            [description]="restaurant.description"
                            [(isFavorite)]="restaurant.isFavorite"
                            (isFavoriteChange)="onFavoriteChange(restaurant.id, $event)"
                        ></tnt-card>
                    </div>
                }
            </div>
        } @else {
            <tnt-empty-card>
                No restaurants found.
            </tnt-empty-card>
        }

        <div class="tnt-restaurants__pagination">
            <tnt-pagination [total]="totalRestaurants()" [pageSize]="pageSize" [(page)]="page"></tnt-pagination>
        </div>
    }
</div>